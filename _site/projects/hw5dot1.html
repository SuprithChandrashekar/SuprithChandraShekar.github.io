<!DOCTYPE html>

<!--
  portfolYOU Jekyll theme by Youssef Raafat
  Free for personal and commercial use under the MIT license
  https://github.com/YoussefRaafatNasry/portfolYOU
  Updates for JPN Fall 2024
  FALL2024ID8109
-->

<html lang="en" class="h-100">

<head>

  
  
  

  

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:type" content="website">
  <meta property="og:title" content="Facebook Ego Network Visualization">
  <meta property="og:description" content="This project showcases interactive visualizations of the Facebook Ego Network. Plot 1 is a static export (PNG) of a Node-Link Diagram, and Plot 2 includes in...">
  <meta property="og:image" content="assets/pngs/nodelink.png">

  <title>Facebook Ego Network Visualization</title>
  <meta name="description" content="This project showcases interactive visualizations of the Facebook Ego Network. Plot 1 is a static export (PNG) of a Node-Link Diagram, and Plot 2 includes in...">

  <link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico">

  <!-- Theme style -->
  <script src="/assets/js/theme.js"></script>

  <!-- Font Awesome CDN -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.10.0/css/all.css">

  <!-- Bootstrap CSS CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">

  <!-- Animate CSS CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/assets/css/style.css">

</head>

<body class="h-100 d-flex flex-column">

  <main class="flex-shrink-0 container mt-5">
    <nav class="navbar navbar-expand-lg navbar-themed">

  <a class="navbar-brand" href="/"><h5><b>Suprith Chandra Shekar</b></h5></a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
    <i class="fas fa-1x fa-bars text-themed"></i>
  </button>

  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
    <div class="navbar-nav ml-auto"><a class="nav-item nav-link active" href="/projects/">Projects</a>

      <a class="nav-item nav-link " href="/blog/">Blog</a>

      <a class="nav-item nav-link " href="/about/">About</a>

      

      <span id="theme-toggler" class="nav-item nav-link" role="button" onclick="toggleTheme()"></span>
    </div>
  </div>

</nav>
    <div class="col-lg-10 mx-auto mt-5 markdown-body">
  <h1 id="facebook-ego-network-visualization-showcase">Facebook Ego Network Visualization Showcase</h1>

<p>These visualizations explore the Facebook Ego Network dataset provided by SNAP. Two main visualizations are presented: Node‑Link Diagram (Plot 1) and interactive visualizations (Plot 2) for analyzing node degree distributions and the relationship between degree and clustering coefficient.</p>

<ol>
  <li>
    <p><strong>Plot 1 (Node-Link Diagram)</strong>:<br />
A Interactive visualisation showing the network structure using a force-directed layout. The Node-Link Diagram highlights clusters and node prominence (colored by node degree).</p>
  </li>
  <li>
    <p><strong>Plot 2 (Interactive Visualizations)</strong>:<br />
Two interactive visualizations built using Vega-Lite:</p>
    <ul>
      <li>An <strong>interactive histogram</strong> of the node degree distribution with a brush selection to filter the data.</li>
      <li>A <strong>scatter plot</strong> that correlates node degree with clustering coefficient and includes click-based interactivity for detail exploration.</li>
    </ul>
  </li>
</ol>

<hr />

<h2 id="plot-1-node-link-diagram">Plot 1: Node-Link Diagram</h2>

<p><strong>Plot 1.1 (Altair - Reduced by Sub-Sampling)</strong></p>

<iframe src="/assets/plots/plot1_node_link_altair.html" width="720" height="500" style="border:none;"></iframe>

<p><strong>Plot 1.2 (Plotly - Fully Rendered)</strong></p>

<iframe src="/assets/plots/plot1_node_link_diagram.html" width="720" height="500" style="border:none;"></iframe>

<p><strong>Design Notes:</strong></p>
<ul>
  <li><strong>Layout:</strong> A force-directed (spring) layout is used to reveal clusters.</li>
  <li><strong>Color Encoding:</strong> Node colors represent the degree (number of connections) for quick visual identification of hubs.</li>
  <li><strong>Interactivity:</strong> While the interactive version is available separately, the PNG summarizes the global network structure in a scalable format.</li>
</ul>

<p><strong>Description</strong></p>
<p>The Node-Link Diagram represents Facebook users as nodes and their friendships as edges. A force-directed (spring) layout was used to reveal clusters and highlight key nodes based on their degree. Node colors are assigned according to the number of connections, which helps identify highly-connected users or potential community hubs.</p>

<p><strong>Export Process &amp; Issues Encountered</strong></p>
<p>
During development, generating a high-quality interactive plots using Altair's <code>write_image</code> function caused significant performance issues and crashed the kernel even after using the &lt;/code&gt;alt.data_transformers.disable_max_rows()&lt;/code&gt;. The execution and export process took a long time and occasionally resulted in fatal JavaScript memory errors due to the heavy data load (thousands of nodes and tens of thousands of edges). To mitigate this, I experimented with using the Plotly and <code>Scattergl</code> trace for rendering. Although this improved performance somewhat, the export process still remained resource intensive. As an alternative, I also explored using Matplotlib for a simpler static image export.
</p>

<h2><br /></h2>
<p><br />
<br /></p>

<h2 id="plot-2-interactive-visualizations">Plot 2: Interactive Visualizations</h2>

<p>There are two interactive visualizations developed using Vega‑Lite/Altair. They are exported as HTML files, allowing users to explore key metrics interactively.</p>

<h3 id="2a-interactive-histogram-of-node-degree-distribution">2a. Interactive Histogram of Node Degree Distribution</h3>

<iframe src="\assets\plots\plot2_histogram.html" width="720" height="500" style="border:none; margin-bottom: -20px;"></iframe>

<p><strong>Description</strong></p>
<p>This histogram displays the distribution of node degrees within the Facebook Ego Network. It uses an interval selection (brush) on the x-axis to enable users to filter nodes by degree. This interactive filtering helps in identifying clusters of nodes with similar connectivity levels.</p>

<p><strong>Data &amp; Encoding</strong></p>
<p>Node degree is binned into up to 30 intervals along the x-axis and counted on the y-axis. A conditional color encoding is applied: nodes within the brushed range are colored ‘steelblue’, while others appear in light gray. Tooltips display the count for each bin, facilitating deeper data inspection.</p>

<h3 id="2b-interactive-scatter-plot-node-degree-vs-clustering-coefficient">2b. Interactive Scatter Plot: Node Degree vs. Clustering Coefficient</h3>

<iframe src="\assets\plots\plot2_scatter.html" width="720" height="500" style="border:none;"></iframe>

<p><strong>Description</strong></p>
<p>The scatter plot examines the relationship between node degree and clustering coefficient. Points represent individual nodes. Interactive click selection is enabled so that when a user clicks on a data point, it is highlighted (its opacity set to 1 while others fade to 0.5), allowing the user to inspect specific node metrics in detail.</p>

<p><strong>Data &amp; Encoding</strong></p>
<p>
- The x-axis encodes node degree (a quantitative variable).  
- The y-axis encodes clustering coefficient (also quantitative).  
- Tooltips provide detailed information (node ID, degree, and clustering coefficient).  
- Color is used to differentiate nodes, enhancing the visual correlation between the two metrics.
</p>

<p><br /></p>

<h2 id="data-processing--methods">Data Processing &amp; Methods</h2>

<p>
The visualizations are based on the Facebook Ego Network dataset provided by SNAP (<a href="https://snap.stanford.edu/data/ego-Facebook.html">Data Source</a>). The dataset consists of an edge list representing friendships, which I processed using NetworkX. A force-directed (spring) layout algorithm was applied to compute node positions. Node-level metrics, such as degree and clustering coefficient, were calculated and stored in Pandas DataFrames for easy integration with Altair and Plotly.
</p>

<p><strong>Key Steps:</strong></p>
<ul>
  <li><strong>Data Loading:</strong><br />
The edge list was loaded with NetworkX, and a subsample was used to alleviate rendering issues.</li>
  <li><strong>Layout Computation:</strong><br />
A spring layout produced x-y coordinates for nodes.</li>
  <li><strong>Data Transformation:</strong><br />
Node degree and clustering coefficients were computed, and data was reshaped (for instance, splitting edge data into two rows) for visualization.</li>
  <li><strong>Visualization Construction:</strong><br />
Two approaches were taken:
    <ul>
      <li>The interactive visualizations use Vega-Lite (exported as HTML).</li>
      <li>A static Node-Link Diagram was exported as PNG using Plotly, though this required multiple attempts to optimize the image rendering process.</li>
    </ul>
  </li>
</ul>

<h2 id="challenges-and-solutions">Challenges and Solutions</h2>

<p>
The major issues encountered during this project included:
</p>
<ul>
  <li><strong>Static Image Export:</strong> Exporting the full network to PNG was exceedingly slow and led to JavaScript out-of-memory errors. To resolve this, a subsampled network was used and the WebGL-based <code>Scattergl</code> trace was implemented, though performance remained a challenge.</li>
  <li><strong>Data Size and Complexity:</strong> The full dataset's size (thousands of nodes, tens of thousands of edges) necessitated data subsampling and careful performance tuning in both interactive and static visualizations.</li>
  <li><strong>Interactivity vs. Static Rendering:</strong> Maintaining rich interactivity in Plot 2 while also achieving a high-quality static export for Plot 1 required separate strategies and code paths.</li>
</ul>

<p><br />
<br /></p>

<div class="left">
<a class="m-1 btn btn-outline-primary btn-2 " href="https://snap.stanford.edu/data/ego-Facebook.html">
  Dataset Source
</a>
</div>

<div class="right">
<a class="m-1 btn btn-outline-primary btn-2 " href="https://github.com/SuprithChandrashekar/SuprithChandraShekar.github.io/blob/edf4cc6f88465338e5239c7ba36fc9e261dd52e4/python_notebooks/Workbook.ipynb">
  Analysis Notebook
</a>
</div>

</div>
  </main>
  <footer class="mt-auto py-3 text-center">

  <small class="text-muted mb-2">
    <i class="fas fa-code"></i> with <i class="fas fa-heart"></i>
    by <strong>Suprith Chandra Shekar</strong>
  </small>

  <div class="container-fluid justify-content-center"><a class="social mx-1"  href="mailto:suprith2@illinois.edu"
       style="color: #6c757d"
       onMouseOver="this.style.color='#db4437'"
       onMouseOut="this.style.color='#6c757d'">
      <i class="fas fa-envelope fa-1x"></i>
    </a><a class="social mx-1"  href="https://www.github.com/SuprithChandrashekar"
       style="color: #6c757d"
       onMouseOver="this.style.color='#333333'"
       onMouseOut="this.style.color='#6c757d'">
      <i class="fab fa-github fa-1x"></i>
    </a>

</div>

  Theme by <a href="https://github.com/YoussefRaafatNasry/portfolYOU">portfolYOU</a> and <a href="https://github.com/4dcu-be/4dcu.be">4dcu.be</a>.

  
<!--<small id="attribution">
    theme <a href="https://github.com/YoussefRaafatNasry/portfolYOU">portfolYOU</a>
  </small>
-->

</footer>


<!-- Custom page specific js files -->
  
    <script src='/assets/js/vega.min.js' type="text/javascript"></script>
  
    <script src='/assets/js/vega-lite.min.js' type="text/javascript"></script>
  
    <script src='/assets/js/vega-embed.min.js' type="text/javascript"></script>
  
    <script src='/assets/js/justcharts.js' type="text/javascript"></script>
  



  
  <!-- GitHub Buttons -->
<script async defer src="https://buttons.github.io/buttons.js"></script>

<!-- jQuery CDN -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- Popper.js CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>

<!-- Bootstrap JS CDN -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<!-- wow.js CDN & Activation -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.js"></script>
<script> new WOW().init(); </script>

<!-- Initialize all tooltips -->
<script>
$(function () {
    $('[data-toggle="tooltip"]').tooltip()
})
</script>

<!-- Ensure project cards have uniform heights based on the tallest card -->
<script>
(function () {
  function setEqualProjectCardHeights() {
    var cards = Array.prototype.slice.call(document.querySelectorAll('.project.card'));
    if (!cards.length) return;

    // reset any previously applied inline heights
    cards.forEach(function (c) { c.style.minHeight = ''; });

    // measure after images/fonts/layout settled
    var max = 0;
    cards.forEach(function (c) {
      var h = c.offsetHeight;
      if (h > max) max = h;
    });

    // apply the maximum height so all cards match the tallest
    cards.forEach(function (c) { c.style.minHeight = max + 'px'; });
  }

  var resizeTimer;
  window.addEventListener('load', setEqualProjectCardHeights);
  window.addEventListener('DOMContentLoaded', setEqualProjectCardHeights);
  window.addEventListener('resize', function () {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(setEqualProjectCardHeights, 150);
  });

  // If images are lazy-loaded, try again after a short delay
  document.addEventListener('readystatechange', function () {
    if (document.readyState === 'complete') setTimeout(setEqualProjectCardHeights, 250);
  });
})();
</script>
</body>

<!--
end of checks! JPN
-->

</html>














